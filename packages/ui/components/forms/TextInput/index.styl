// ----- CONFIG: $UI.TextInput

$this = merge({
  caretColor: $UI.colors.mainText,
  borderWidth: 1,
  height: {
    l: 5u,
    m: 4u,
    s: 3u
  },
  lineHeight: {
    l: 3u,
    m: 2.5u,
    s: 2.5u
  }
}, $UI.TextInput, true)

// ----- COMPONENT

$inputBg = $UI.colors.white
$inputBorderColor = $UI.colors.darkLighter
$inputBgDisabled = $UI.colors.darkLightest
$inputBorderWidth = 1px
$inputCaretColor = $this.caretColor
$inputTextColor = $UI.colors.mainText
$focusedColor = $UI.colors.primary
$errorColor = $UI.colors.attention
$inputFontSizeL = 2u
$inputFontSizeM = 1.75u
$inputFontSizeS = 1.75u

.input-input
  margin 0 // important for safari
  flex 1 // important for multiline
  // padding-top, padding-bottom is important
  // for android because it has invisible paddings
  // on the web is important for textarea (override default paddings)
  padding 0 1u
  color $inputTextColor
  background-color $inputBg
  border-width $inputBorderWidth
  border-style solid
  border-color $inputBorderColor
  min-width 8u
  radius()

  +web()
    outline 0
    caret-color $inputCaretColor

  &.l
    font-size $inputFontSizeL

  &.m
    font-size $inputFontSizeM

  &.s
    font-size $inputFontSizeS

  &.disabled
    background-color $inputBgDisabled

    +web()
      cursor default

  &.focused
    border-color $focusedColor

  &.error
    border-color $errorColor

  for side in (left right)
    &.icon-{side}
      &.l
        padding-{side} 5u

      &.m
        padding-{side} 4u

      &.s
        padding-{side} 4u

.input-icon
  position absolute
  top 0
  bottom 0
  justify-content center
  z-index 1

  &.left
    left 1u

  &.right
    right 1u

// ----- JS EXPORTS

:export
  config: $this
  colors: $UI.colors
