# Scrollable anchors

<br />

Component for native anchors imitation and animating vertical scrolling.

<br />
<br />

<center>
  <a href='/scrollable-anchors-example#3'>View Demo</a>
</center>

## Installation

```yarn add @startupjs/scrollable-anchors```

## Requirements

```
@startupjs/ui: ^0.33.0
startupjs: ^0.33.0
```

## Usage

1. Wrap your top component (Layout is the best place) into ***ScrollableProvider*** HOC;

  ```jsx
  import { ScrollableProvider } from '@startupjs/scrollable-anchors'
  // ...
  function Layout ({ children }) {
    return (
      <ScrollableProvider>
        {children}
      </ScrollableProvider>
    )
  }
  ```

2. Mark your anchors with ***Anchor*** HOC;

  There you have two option to mark your component as anchor:
    - Wrap your component with Anchor HOC. It will create one extra Div over your component;
      It is helpful when you wrap components that haven't native onLayout prop (like React.Fragment, input, custom component etc.).
      In this case module can not determine actual position of wrapped component. Thats why module create one extra Div over your component

      ```jsx
      import { Link, Span, TextInput } from '@startupjs/ui'
      import { Anchor } from '@startupjs/scrollable-anchors'
      // ...
      <Anchor id='dash-anchor'>
        <React.Fragment>
          <Link to='/dashboard'>Go to Dashboard</Link>
        </React.Fragment>
      </Anchor>
      <Anchor id='input-anchor'>
        <TextInput value='Hello! />
      </Anchor>
      <Anchor id='comp-anchor'>
        <CustomComponentWithoutonLayout />
      </Anchor>
      // ...
      ```
    - Render Anchor with passed Component to it. It will render Component without any extra wrappers.

      It is helpful when you wrap components that have native onLayout prop

      ```jsx
      import { Div, Span } from '@startupjs/ui'
      import { Anchor } from '@startupjs/scrollable-anchors'
      // ...
      // ...
      Anchor(id='div-anchor' Component=Div ...componentProps) Div anchor
      Anchor(id='span-anchor' Component=Span ...componentProps) Span anchor
      ```
3. (Optional) Add another scrollable areas with ***ScrollableArea*** HOC;

  *Android version works only with top level anchors. Anchors in ScrollableAreas will work incorrectly

  ```jsx
  import { ScrollableArea, Anchor } from '@startupjs/scrollable-anchors'
  // ...
  <ScrollableArea id='my-scrollable-area'>
    {/* A lot of content */}
    <Anchor id='nested-area-ancor'>
      <Span>Anchor in the bottom of another Scrollable Area</Span>
      <Span>Scroll to this anchor will be controlled within wrapped ScrollableArea</Span>
    </Anchor>
  <ScrollableArea/>
  // ...
  ```

4. Controll your scroll with ***scrollTo*** helper.

  ```js
    // ...
    // Scroll to anchor in the top scroll container generated by ScrollableProvider HOC
    scrollTo({
      anchorId: 'dash-anchor',
      offset: -50
    })
    // ...
    // Scroll to anchor in nested ScrollableArea HOC
    scrollTo({
      anchorId: 'nested-area-ancor',
      areaId: 'my-scrollable-area'
    })
    // ...
  ```

## Props/Options

### ScrollableProvider HOC

* ***reactOnHash*** (Boolean, Default = true) - ScrollableProvider will analyze incoming url hash and try to find and scroll to anchor with same hash value.

### ScrollableArea HOC

* ***id*** (String, Required) - unique id of your ScrollArea (must be unique within the entire app).

### Anchor HOC

* ***id*** (String, Required) - unique id of your Anchor (must be unique within the entire app).

* ***style*** (Object/Array, Optional) - you can pass styles with props or set a styleName to Anchor; IE (PUG): Anchor.customClass

* ***Component*** (Object/Array, Default = Div) - root component that you want to mark as anchor (see step 2 in Usage section)

### scrollTo

* ***anchorId*** (String, Required) - id of anchor;

* ***areaId*** (String, Default = 'global') - id of ScrollArea where to perform scroll;

* ***offset*** (Number, Optional) - offset for scroll.
