# Scrollable anchors

<br />

Компонент для имитации поведения нативных анкоров и анимированного вертикального скроллинга.

<br />
<br />

<center>
  <a href='/scrollable-anchors-example#3'>Пример</a>
</center>

## Installation

```yarn add @dmapper/scrollable-anchors```

## Requirements

```
@startupjs/ui: ^0.33.0
startupjs: ^0.33.0
```

## Usage

1. Оберните свой верхний родительский компонент (Layout - лучшее место) в ***ScrollableProvider*** HOC;

  ```jsx
  import { ScrollableProvider } from '@startupjs/scrollable-anchors'
  // ...
  function Layout ({ children }) {
    return (
      <ScrollableProvider>
        {children}
      </ScrollableProvider>
    )
  }
  ```

2. Отметьте ваши анкоры при помощи ***Anchor*** HOC;

  У вас есть 2 опции отметить якорь:

    - Оберните ваш компонент в Anchor HOC. Это создаст дополнительный элемент Div вокруг оборачивамого компонента;

      Этот вариант полезен в случае когда ваш оборачиваемый компонент не имеет нативного свойства onLayout (React.Fragment, Input, кастомные компоненты).
      В этом случае модуль не может определить фактическое положение вашего оборачиваемого элемента, по этому вокруг него создается дополнительный Div.

      ```jsx
      import { Link, Span, TextInput } from '@startupjs/ui'
      import { Anchor } from '@startupjs/scrollable-anchors'
      // ...
      <Anchor id='dash-anchor'>
        <React.Fragment>
          <Link to='/dashboard'>К панели инструментов</Link>
        </React.Fragment>
      </Anchor>
      <Anchor id='input-anchor'>
        <TextInput value='Привет! />
      </Anchor>
      <Anchor id='comp-anchor'>
        <CustomComponentWithoutonLayout />
      </Anchor>
      // ...
      ```

    - Якорь без создания дополнительных оберток. Этот вариант отрендерит компонент без дополнительных элементов-оберток.

      Этот вариант полезен когда вы оборачиваете компоненты у которых реализован нативное свойство onLayout

      ```jsx
      import { Div, Span } from '@startupjs/ui'
      import { Anchor } from '@startupjs/scrollable-anchors'
      // ...
      // ...
      Anchor(id='div-anchor' Component=Div ...componentProps) Якорь Div
      Anchor(id='span-anchor' Component=Span ...componentProps) Якорь Span
      ```

3. (Опционально) Добавте вложенные зоны для контрорлирования скролла при помощи ***ScrollableArea*** HOC;

  ```jsx
  import { ScrollableArea, Anchor } from '@startupjs/scrollable-anchors'
  // ...
  <ScrollableArea id='my-scrollable-area'>
    {/* Много-много контента */}
    <Anchor id='nested-area-ancor'>
      <Span>Анкор в самом низу вложенной зоны контроля скролла</Span>
      <Span>Скролл к этому анкору будет контролироватьсся в пределах этой зоны контроля скролла</Span>
    </Anchor>
  <ScrollableArea/>
  // ...
  ```

4. Скроллим при помощи ***scrollTo*** хелпера.

  ```js
    // ...
    // Скролл к анкору в рутовом контейнере, сгенерированном при помощи ScrollableProvider HOC
    Scroll to element top scroll container generated by ScrollableProvider HOC
    scrollTo({
      anchorId: 'dash-anchor',
      offset: -50
    })
    // ...
    // Скролл к анкору во вложенном ScrollableArea HOC
    scrollTo({
      anchorId: 'nested-area-ancor',
      areaId: 'my-scrollable-area'
    })
    // ...
  ```

## Props/Options

### ScrollableProvider HOC

* ***reactOnHash*** (Boolean, Default = true) -  ScrollableProvider проанализирует хэш в URL и попытается найти элемент, соответствующий значению хеша и проскролить к нему.

### ScrollableArea HOC

* ***id*** (String, Required) - уникальный id для ScrollArea (долден быть уникальным во всем приложении).

### Anchor HOC

* ***id*** (String, Required) - уникальный id для якоря (долден быть уникальным во всем приложении).

* ***style*** (Object/Array, Optional) - вы можете пробросить стили / обозначить styleName; IE (PUG): Anchor.customClass

* ***Component*** (Object/Array, Default = Div) - рутовый компонент, на основе которого будет сгенерирвоан якорь;

### scrollTo

* ***anchorId*** (String, Required) - id вашего якоря;

* ***areaId*** (String, Default = 'global') - id вашей ScrollArea где нужно осуществить скролл;

* ***offset*** (Number, Optional) - значение смещения для скрола.
